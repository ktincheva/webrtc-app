<div class="container">
    <div class="row-fliud">
        <h2>Current Room:<span class="current_room"> {{current_room}}</span></h2>
    </div>
    <div class="row-fliud">
        <form name = "loginForm">
            <label for="username">Username:</label>
            <input id="username" name = "username" ng-model="user.username" ng-minlength="5"ng-maxlength="20" required>
            <input type="submit" id="loginButton" class="btn btn-primary" value="Connect" ng-click="login()"/>
        </form>
        <div ng-messages="loginForm.username.$error" style="color:maroon" role="alert">
            <div ng-message="required">You did not enter a field</div>
            <div ng-message="minlength">Your field is too short</div>
            <div ng-message="maxlength">Your field is too long</div>
        </div>
        This user: {{user| json}}
    </div>


    <div class = "row-fliud">
        <div class="col-sm-9">
            <uib-tabset justified="true">
                <uib-tab ng-repeat="room in rooms" heading="{{room}}" select="switchRoom(room)">
                    <h2>Current Room:<span class="current_room"> {{current_room}}</span></h2>
                    <div id="conversation-{{room}}"></div>
                


                    <p ng-bind-html="message | smilies"></p>

<div class="input-group">
  <input ng-model="message" focus-on-change="message" class="form-control">
  <span class="input-group-addon" smilies-selector="message" smilies-placement="right" smilies-title="Smilies"></span>
</div>

                    <input type="button" class = "datasend btn btn-success" id="datasend-{{room}}" value="Send" ng-click="senddata(message, room)" />

                </uib-tab> 
            </uib-tabset>
        </div> 


        <div class="col-sm-3">
            <h2>List of users online</h2>
            <ul ng-repeat="user in users">
                <li ng-if="user.username != username">
                    <div>
                        <span>{{user.username}}</span>
                        <span><a href="/#chat/2"><img src = "./images/video_call_icon.png" class="call_icon"/></a></span>
                    </div>
            </ul>    
        </div>



    </div>

    {{message}}
    <pre ng-bind-html="message | smilies"></pre>




</div>



